<div class="content" *ngIf="!loadingOfferInfo; else loading">
  <h1>{{ offer.country }} : {{ offer.city }}</h1>

  <img src="{{ offer.thumbnail_url }}" alt="obrazek" />

  <p>ID oferty: {{ offer.offer_id }}, ID wycieczki: {{ offer.tour_id }}</p>
  <p>Transport: {{ offer.transport }}</p>
  <p>
    Wyjazd dnia: {{ offer.departure_date }}, przyjazd dnia:
    {{ offer.arrival_date }}
  </p>
  <p>
    Dorosłych: {{ offer.number_of_adults }}, dzieci: {{ offer.number_of_kids }}
  </p>

  <p>{{ offer.description }}</p>

  <button
    *ngIf="isOffer; else cancelReservation"
    (click)="makeNewReservation()"
    mat-raised-button
  >
    Rezerwuj
  </button>
</div>

<ng-template #loading>
  <mat-spinner></mat-spinner>
</ng-template>

<ng-template #cancelReservation>
  <p><strong>ID rezerwacji: </strong>{{ reservation.id }}</p>
  <p><strong>Stan rezerwacji: </strong>{{ reservation.state }}</p>
  <p *ngIf="reservation.state === 'rejected'">
    <strong>Powód odrzucenia: </strong>{{ reservation.rejection_reason }}
  </p>

  <div
    *ngIf="reservation.state === 'accepted' || reservation.state === 'pending'"
  >
    <button
      mat-raised-button
      *ngIf="reservation.state === 'accepted'"
      (click)="payForReservation()"
    >
      Zapłać
    </button>
    <button mat-raised-button (click)="doCancelReservation()">
      Odwołaj rezerwację
    </button>
  </div>
</ng-template>
